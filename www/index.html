<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, width=device-width">
    <title>Quest App</title>

    <!-- ionic css -->
    <link href="lib/css/ionic.css" rel="stylesheet">
    <link href="lib/css/bootstrap.min.css" rel="stylesheet" />
    <link href="lib/css/xeditable.css" rel="stylesheet" />

    <!-- your app's css -->
    <link href="css/app.css" rel="stylesheet">

    <!-- angularjs scripts -->
    <script src="lib/js/ionic/ionic.js"></script>
    <script src="lib/js/angular/angular.js"></script>
    <script src="lib/js/angular/angular-animate.js"></script>
    <script src="lib/js/angular/angular-sanitize.js"></script>
    <script src="lib/js/angular-ui/angular-ui-router.js"></script>
    <script src="lib/js/ionic/ionic-angular.js"></script>

    <!-- cordova script -->
    <script src="cordova.js"></script>

    <!-- Other custom -->
    <!--<script src="lib/js/parse/parse-1.2.16.min.js"></script>-->
    <script src="https://quest.openspacedev.com:5000/dpd.js"></script>
    <script src="lib/js/xeditable/xeditable.min.js"></script>
    <script src="lib/js/breeze/jquery-2.1.0.min.js"></script>
    <script src="lib/js/breeze/q.js"></script>
    <script src="lib/js/breeze/breeze.min.js"></script>
    <script src="lib/js/breeze/breeze.metadata-helper.js"></script>

    <!-- your app's script -->
    <script src="js/app.js"></script>
    <script src="js/services/user-service.js"></script>
    <script src="js/services/quest-service.js"></script>
    <script src="js/controllers/out-item-controller.js"></script>
    <script src="js/controllers/login-controller.js"></script>
    <script src="js/controllers/friends-controller.js"></script>
    <script src="js/controllers/results-controller.js"></script>
    <script src="js/controllers/in-list-controller.js"></script>
    <script src="js/controllers/out-list-controller.js"></script>
  </head>

  <!-- 
    'starter' is the name of this angular module (js/app.js)
  -->
  <body ng-app="questApp" animation="slide-left-right-ios7">

    <!-- 
      The nav bar that will be updated as we navigate between views
      Additional attributes set its look, nav-bar animation and icons
      Icons provided by Ionicons: http://ionicons.com/ 
    -->
    <nav-bar type="bar-dark"
             animation="nav-title-slide-ios7" 
             back-button-type="button-icon" 
             back-button-icon="ion-ios7-arrow-back"></nav-bar>

    <!-- 
      The views will be rendered in the <nav-view> directive below
      Templates are in the /templates folder (but you could also
      have templates inline in this html file if you'd like).
    -->
    <nav-view></nav-view>

  <script>
    breeze.config.initializeAdapterInstance( "modelLibrary", "backingStore");
    // 'Identity' is the default key generation strategy for this app
    var keyGen = breeze.AutoGeneratedKeyType.Identity;
    // namespace of the corresponding classes on the server
    var namespace = 'CC.Model';

    // Breeze Labs: breeze.metadata.helper.js
    // https://github.com/IdeaBlade/Breeze/blob/master/Breeze.Client/Scripts/Labs/breeze.metadata-helper.js
    // The helper reduces data entry by applying common conventions
    // and converting common abbreviations (e.g., 'type' -> 'dataType')
    var helper = new breeze.config.MetadataHelper(namespace, keyGen);

    /*** Convenience fns and vars ***/
    var store; // the metadataStore that we'll be building

    // addType - make it easy to add the type to the store using the helper
    var addType = function (type) { helper.addTypeToStore(store, type); };

    // DataTypes
    var DT = breeze.DataType;
    var BOOL = DT.Boolean;
    var DATE = DT.DateTime;
    var ID = DT.Int32;

    function fillMetadataStore(metadataStore) {
        store = metadataStore;

        // Add types in alphabetical order ... because we can
        addQuest();
    }

    function addQuest() {
        addType({
            name: 'quests',
            dataProperties: {
                id:   {type: ID },
                title: {max: 50, nullOk: false },
                owner: {max:100, nullOk: false}
            }
        });
    }
  </script>
  </body>
</html>
